<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Job Application with Location Detection</title>

    <style>

        * { box-sizing: border-box; font-family: 'Segoe UI', system-ui, sans-serif; }

        body { background-color: #f5f7fa; margin: 0; padding: 20px; color: #333; }

        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }

        header { text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #eaeaea; }

        h1 { color: #2c3e50; margin-bottom: 8px; }

        .subtitle { color: #7f8c8d; font-size: 1.1em; }

        .form-section { margin-bottom: 28px; padding: 20px; background: #f8fafc; border-radius: 8px; border-left: 4px solid #3498db; }

        h2 { color: #2c3e50; margin-top: 0; margin-bottom: 18px; font-size: 1.3em; }

        label { display: block; margin-bottom: 8px; font-weight: 600; color: #2c3e50; }

        input, select, textarea { width: 100%; padding: 12px 15px; margin-bottom: 18px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; transition: border 0.3s; }

        input:focus, select:focus, textarea:focus { outline: none; border-color: #3498db; box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2); }

        textarea { min-height: 120px; resize: vertical; }

        .location-section { background: #e8f4fc; border-left-color: #2980b9; }

        .location-controls { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; margin-bottom: 15px; }

        .location-btn { background: #3498db; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-weight: 600; transition: background 0.3s; }

        .location-btn:hover { background: #2980b9; }

        .location-btn:disabled { background: #95a5a6; cursor: not-allowed; }

        .location-info { padding: 15px; background: white; border-radius: 6px; border: 1px solid #ddd; margin-top: 15px; display: none; }

        .coords { font-family: monospace; background: #f8f9fa; padding: 8px 12px; border-radius: 4px; margin: 5px 0; font-size: 14px; }

        .accuracy { color: #27ae60; font-weight: 600; }

        .error { color: #e74c3c; padding: 10px; background: #fde8e8; border-radius: 4px; margin-top: 10px; }

        .privacy-note { font-size: 14px; color: #7f8c8d; margin-top: 10px; padding: 12px; background: #f9f9f9; border-radius: 4px; line-height: 1.5; }

        .checkbox-group { margin: 20px 0; }

        .checkbox-group label { display: flex; align-items: flex-start; font-weight: normal; cursor: pointer; }

        .checkbox-group input { width: auto; margin-right: 10px; margin-top: 4px; }

        .submit-btn { background: #2ecc71; color: white; border: none; padding: 16px 40px; font-size: 18px; border-radius: 6px; cursor: pointer; font-weight: 600; width: 100%; transition: background 0.3s; }

        .submit-btn:hover { background: #27ae60; }

        .required { color: #e74c3c; }

        @media (max-width: 600px) {

            .container { padding: 20px; }

            .location-controls { flex-direction: column; align-items: stretch; }

            .location-btn { width: 100%; }

        }

    </style>

</head>

<body>

    <div class="container">

        <header>

            <h1>Job Application Form</h1>

            <p class="subtitle">Software Developer Position - Tech Solutions Inc.</p>

        </header>

        

        <form id="jobApplicationForm">

            <!-- Personal Information Section -->

            <div class="form-section">

                <h2>Personal Information</h2>

                <label for="fullName">Full Name <span class="required">*</span></label>

                <input type="text" id="fullName" name="fullName" required placeholder="John Smith">

                <label for="email">Email Address <span class="required">*</span></label>

                <input type="email" id="email" name="email" required placeholder="john@example.com">

                <label for="phone">Phone Number <span class="required">*</span></label>

                <input type="tel" id="phone" name="phone" required placeholder="(123) 456-7890">

            </div>

            

            <!-- Location Section with Geolocation -->

            <div class="form-section location-section">

                <h2>Location Information</h2>

                <p>We use your location to match you with opportunities in your area.</p>

                <div class="location-controls">

                    <button type="button" id="getLocationBtn" class="location-btn">üìç Get My Current Location</button>

                    <span>or</span>

                    <input type="text" id="manualLocation" name="manualLocation" placeholder="Enter your city, state, or address manually">

                </div>

                <div id="locationInfo" class="location-info">

                    <p><strong>Location detected:</strong></p>

                    <div class="coords" id="coordinates">Latitude: --, Longitude: --</div>

                    <p class="accuracy" id="accuracyInfo">Accuracy: -- meters</p>

                </div>

                <div id="locationError" class="error" style="display: none;"></div>

                <label for="city">City</label>

                <input type="text" id="city" name="city">

                <label for="state">State/Province</label>

                <input type="text" id="state" name="state">

                <label for="country">Country</label>

                <input type="text" id="country" name="country">

                <div class="privacy-note">

                    <strong>Privacy Notice:</strong> Your location is only captured if you click the button and grant permission. We use this data solely for job matching purposes.

                </div>

            </div>

            

            <!-- Professional Information -->

            <div class="form-section">

                <h2>Professional Information</h2>

                <label for="position">Position Applying For <span class="required">*</span></label>

                <select id="position" name="position" required>

                    <option value="">Select a position</option>

                    <option value="frontend">Frontend Developer</option>

                    <option value="backend">Backend Developer</option>

                    <option value="fullstack">Full Stack Developer</option>

                    <option value="mobile">Mobile Developer</option>

                    <option value="devops">DevOps Engineer</option>

                </select>

                <label for="experience">Years of Experience <span class="required">*</span></label>

                <select id="experience" name="experience" required>

                    <option value="">Select experience level</option>

                    <option value="0-2">0-2 years</option>

                    <option value="3-5">3-5 years</option>

                    <option value="5-10">5-10 years</option>

                    <option value="10+">10+ years</option>

                </select>

                <label for="resume">Resume/CV Upload</label>

                <input type="file" id="resume" name="resume" accept=".pdf,.doc,.docx">

                <label for="coverLetter">Cover Letter</label>

                <textarea id="coverLetter" name="coverLetter" placeholder="Tell us why you're a great fit for this position..."></textarea>

            </div>

            

            <!-- Consent and Submission -->

            <div class="form-section">

                <h2>Consent & Submission</h2>

                <div class="checkbox-group">

                    <label>

                        <input type="checkbox" id="privacyConsent" name="privacyConsent" required>

                        <span>I consent to the collection and processing of my personal data (including location data) for recruitment purposes. <span class="required">*</span></span>

                    </label>

                </div>

                <div class="checkbox-group">

                    <label>

                        <input type="checkbox" id="termsAgree" name="termsAgree" required>

                        <span>I agree to the terms and conditions of this application. <span class="required">*</span></span>

                    </label>

                </div>

                <button type="submit" class="submit-btn">Submit Application</button>

            </div>

        </form>

    </div>

    <script>

        // DOM Elements

        const locationBtn = document.getElementById('getLocationBtn');

        const locationInfo = document.getElementById('locationInfo');

        const locationError = document.getElementById('locationError');

        const coordinatesDisplay = document.getElementById('coordinates');

        const accuracyDisplay = document.getElementById('accuracyInfo');

        const manualLocationInput = document.getElementById('manualLocation');

        const cityInput = document.getElementById('city');

        const stateInput = document.getElementById('state');

        const countryInput = document.getElementById('country');

        const applicationForm = document.getElementById('jobApplicationForm');

        // Check if geolocation is supported

        if (!navigator.geolocation) {

            locationBtn.disabled = true;

            locationBtn.textContent = "Geolocation Not Supported";

            showError("Your browser doesn't support geolocation. Please enter your location manually.");

        }

        // Geolocation button click handler

        locationBtn.addEventListener('click', getLocation);

        // Function to get user's location

        function getLocation() {

            // Show locating status

            locationBtn.disabled = true;

            locationBtn.textContent = "Detecting Location...";

            hideError();

            locationInfo.style.display = 'none';

            // Request location with high accuracy

            navigator.geolocation.getCurrentPosition(

                // Success callback

                function(position) {

                    const lat = position.coords.latitude;

                    const lon = position.coords.longitude;

                    const accuracy = position.coords.accuracy;

                    

                    // Display coordinates

                    coordinatesDisplay.textContent = `Latitude: ${lat.toFixed(6)}, Longitude: ${lon.toFixed(6)}`;

                    accuracyDisplay.textContent = `Accuracy: ~${Math.round(accuracy)} meters`;

                    

                    // Show location info

                    locationInfo.style.display = 'block';

                    

                    // Reverse geocoding to get address

                    reverseGeocode(lat, lon);

                    

                    // Reset button

                    locationBtn.disabled = false;

                    locationBtn.textContent = "üìç Get My Current Location";

                },

                // Error callback

                function(error) {

                    locationBtn.disabled = false;

                    locationBtn.textContent = "üìç Get My Current Location";

                    

                    let errorMessage = "Unable to retrieve your location. ";

                    switch(error.code) {

                        case error.PERMISSION_DENIED:

                            errorMessage += "You denied the request for geolocation. Please enter your location manually or allow location access.";

                            break;

                        case error.POSITION_UNAVAILABLE:

                            errorMessage += "Location information is unavailable. Try again or enter manually.";

                            break;

                        case error.TIMEOUT:

                            errorMessage += "The request to get location timed out. Try again.";

                            break;

                        default:

                            errorMessage += "An unknown error occurred.";

                    }

                    showError(errorMessage);

                },

                // Options for better accuracy

                {

                    enableHighAccuracy: true, // Requests GPS if available

                    timeout: 10000, // Wait up to 10 seconds

                    maximumAge: 0   // Do not use a cached position

                }

            );

        }

        // Reverse geocoding to convert coordinates to address

        async function reverseGeocode(lat, lon) {

            try {

                // Using Nominatim (OpenStreetMap) - free, no API key required

                const response = await fetch(

                    `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&zoom=18&addressdetails=1`

                );

                

                if (!response.ok) throw new Error('Geocoding failed');

                

                const data = await response.json();

                

                if (data.address) {

                    // Populate form fields with address components

                    cityInput.value = data.address.city || data.address.town || data.address.village || '';

                    stateInput.value = data.address.state || '';

                    countryInput.value = data.address.country || '';

                    

                    // Also populate the manual location input

                    const address = data.display_name || '';

                    manualLocationInput.value = address.split(',').slice(0, 3).join(', ');

                }

            } catch (error) {

                console.log('Geocoding failed, using coordinates only:', error);

                // If geocoding fails, just use coordinates

                manualLocationInput.value = `${lat.toFixed(4)}, ${lon.toFixed(4)}`;

            }

        }

        // Error display functions

        function showError(message) {

            locationError.textContent = message;

            locationError.style.display = 'block';

        }

        function hideError() {

            locationError.style.display = 'none';

        }

        // Form submission handler

        applicationForm.addEventListener('submit', function(event) {

            event.preventDefault();

            

            // Gather form data

            const formData = {

                personal: {

                    name: document.getElementById('fullName').value,

                    email: document.getElementById('email').value,

                    phone: document.getElementById('phone').value

                },

                location: {

                    manual: manualLocationInput.value,

                    city: cityInput.value,

                    state: stateInput.value,

                    country: countryInput.value,

                    coordinates: coordinatesDisplay.textContent.includes('--') ? 

                                null : coordinatesDisplay.textContent

                },

                professional: {

                    position: document.getElementById('position').value,

                    experience: document.getElementById('experience').value,

                    coverLetter: document.getElementById('coverLetter').value

                },

                consent: {

                    privacy: document.getElementById('privacyConsent').checked,

                    terms: document.getElementById('termsAgree').checked

                },

                timestamp: new Date().toISOString()

            };

            

            // In a real application, you would send this to your server

            console.log('Application Data:', formData);

            

            // Show success message

            alert('Application submitted successfully! We will contact you soon.');

            applicationForm.reset();

            locationInfo.style.display = 'none';

            hideError();

        });

    </script>

</body>

</html>